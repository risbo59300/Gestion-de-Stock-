<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
       xmlns:p="http://primefaces.org/ui">

	<h:head></h:head>
	
	<body> 
	<p:layout fullPage="true">
	
		<p:layoutUnit position="north" size="200">

			<marquee> <h:outputText style="color:blue" value="Bienvenue dans notre magasin" /></marquee>
			<ui:include src="#{userMBean.menu}" />
		</p:layoutUnit>
		
		<p:layoutUnit position="south" size="100">
			<h:outputText value="Copyright 2021." />+
			<ui:include src="/menuHSud.xhtml" />
		</p:layoutUnit>
		
		<p:layoutUnit position="west" size="200"
			style="width:200;border-width:1px;">
			<ui:include src="/menuWest.xhtml" /> 
		</p:layoutUnit>
		
		<p:layoutUnit position="center" style="width:200; border-width:0px;">
		<h:form >
		<p:dataTable value="#{produitMBean.listProduits}" var="p" selection="#{produitMBean.selectprod}" selectionMode="single" rowKey="#{p.idproduit}">
		
	<p:column headerText="Id Produit"> 
	<h:outputText value="#{p.idproduit}" />
	</p:column>
	
	<p:column headerText="Categorie produit"> 
	<h:outputText value="#{p.categorie.idcateg}" />
	</p:column>
	
	<p:column headerText="Design produit"> 
	<h:outputText value="#{p.desigproduit}" />
	</p:column>
	
	<p:column headerText="Prix unitaire produit"> 
	<h:outputText value="#{p.puproduit}" />
	</p:column>
	
	<p:column headerText="Quantité produit"> 
	<h:outputText value="#{p.qteproduit}" />
	</p:column>
	
	<p:column headerText="Configuration produit"> 
	<h:outputText value="#{p.configproduit}" />
	</p:column>
	
	<p:column headerText="Marque produit"> 
	<h:outputText value="#{p.marqueproduit}" />
	</p:column>
	
	<p:column headerText="Modèle Produit"> 
	<h:outputText value="#{p.modeleproduit}" />
	</p:column>
	
	<p:column headerText="Supprimer"> 
	<p:commandButton actionListener="#{produitMBean.updateProduit}" value="Supprimer" />
	</p:column>
	
	<p:column headerText="Modifier"> 
	<p:commandButton value="Editer" oncomplete="PF('dlgUpdate').show()" update="Myformp:dlgUpdate" />
	</p:column>
	
<p:growl ></p:growl>
</p:dataTable>
</h:form>

<h:form id="Myformp">
	<p:growl ></p:growl>
	<p:dialog id="dlgUpdate" widgetVar="dlgUpdate">
	<p:panelGrid columns="2">
	
	<h:outputText value="Id Produit" />
	<h:outputText value="#{produitMBean.selectprod.idproduit}" />
	
	<h:outputText value="Categorie produit" />
	<p:selectOneMenu value="#{produitMBean.selectprod.categorie.idcateg}" >
	<f:selectItems value="#{categorieMBean.listCategories}" var="categ" itemLabel="#{categ.libellecateg}" itemValue="#{categ.idcateg}"/>
	</p:selectOneMenu>
	
	<h:outputText value="Design produit" />
	<h:inputText value="#{produitMBean.selectprod.desigproduit}" />
	
	<h:outputText value="Prix unitaire produit" />
	<h:inputText value="#{produitMBean.selectprod.puproduit}" />
	
	<h:outputText value="Quantité produit" />
	<h:inputText value="#{produitMBean.selectprod.qteproduit}" />
	
	<h:outputText value="Configuration produit" />
	<h:inputText value="#{produitMBean.selectprod.configproduit}" />
	
	<h:outputText value="Marque produit" />
	<h:inputText value="#{produitMBean.selectprod.marqueproduit}" />
	
	<h:outputText value="Modèle produit" />
	<h:inputText value="#{produitMBean.selectprod.modeleproduit}" />
	
 	<h:commandButton actionListener="#{produitMBean.updateProduit}" value="Modifier" />
 
  </p:panelGrid>
  </p:dialog>
  </h:form>

		</p:layoutUnit>
	</p:layout>
</body> 
</html>