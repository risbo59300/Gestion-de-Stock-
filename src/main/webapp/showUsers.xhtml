<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
       xmlns:p="http://primefaces.org/ui">

	<h:head></h:head>
	
	<body> 
	<p:layout fullPage="true">
	
		<p:layoutUnit position="north" size="200">

			<marquee> <h:outputText style="color:blue" value="Bienvenue dans notre magasin" /></marquee>
			<ui:include src="/menuHNordUser.xhtml" />
		</p:layoutUnit>
		
		<p:layoutUnit position="south" size="100">
			<h:outputText value="Copyright 2021." />+
			<ui:include src="/menuHSud.xhtml" />
		</p:layoutUnit>
		
		<p:layoutUnit position="west" size="200"
			style="width:200;border-width:1px;">
			<ui:include src="/menuWest.xhtml" /> 
		</p:layoutUnit>
		
		<p:layoutUnit position="center" style="width:200; border-width:0px;">
		<h:form >
		
              
		<p:dataTable value="#{userMBean.listUsers}" var="ut" selection="#{userMBean.selectuser}" selectionMode="single" rowKey="#{ut.idUtilisateur}">
		
	<p:column headerText="Id Utilisateur"> 
	<h:outputText value="#{ut.idUtilisateur}" />
	</p:column>
	
	<p:column headerText="Rôle"> 
	<h:outputText value="#{ut.role}" />
	</p:column>
	
	<p:column headerText="Identifiant"> 
	<h:outputText value="#{ut.username}" />
	</p:column>
	
	<p:column headerText="Mot de passe"> 
	<h:outputText value="#{ut.password}" />
	</p:column>
	
	
	<p:column headerText="Supprimer"> 
	<p:commandButton actionListener="#{userMBean.deleteUser}" value="Supprimer" />
	</p:column>
	
	<p:column headerText="Modifier"> 
	<p:commandButton value="Editer" oncomplete="PF('dlgUpdate').show()" update="Myformu:dlgUpdate" />
	</p:column>
	
<p:growl ></p:growl>
</p:dataTable>
</h:form>

<h:form id="Myformu">
	<p:growl ></p:growl>
	
	<p:dialog id="dlgUpdate" widgetVar="dlgUpdate">
	<p:panelGrid columns="2">
	
	<h:outputText value="Id Utilisateur" />
	<h:outputText value="#{userMBean.selectuser.idUtilisateur}" />
	
	<h:outputText value="Rôle" />
	<h:inputText value="#{userMBean.selectuser.role}" />
	
	<h:outputText value="Identifiant" />
	<h:inputText value="#{userMBean.selectuser.username}" />
	
	<h:outputText value="Mot de passe" />
	<h:inputText value="#{userMBean.selectuser.password}" />
	
 	<h:commandButton actionListener="#{userMBean.updateUser}" value="Modifier" />
 
  </p:panelGrid>
  </p:dialog>
  </h:form>

		</p:layoutUnit>
	</p:layout>
</body> 
</html>